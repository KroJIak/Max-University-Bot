<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å - MAX Bot University</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <h1>‚öôÔ∏è –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞</h1>
                    <p class="subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º –±–æ—Ç–∞ –∏ API</p>
                    <p id="university-name" class="subtitle" style="margin-top: 5px; color: #666;"></p>
                </div>
                <button id="change-university-btn" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 5px; cursor: pointer;">
                    –°–º–µ–Ω–∏—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç
                </button>
            </div>
        </header>

        <div class="config-section">
            <h2>üîó –ù–∞—Å—Ç—Ä–æ–π–∫–∏ University API</h2>
            <div class="form-group">
                <label for="university-api-url">Base URL University API:</label>
                <input type="text" id="university-api-url" placeholder="https://university-api.example.com" />
                <button id="save-api-url" class="btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>

        <div class="features-section">
            <h2>üéõÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º</h2>
            <div id="management-features" class="features-list">
                <!-- Features will be loaded dynamically -->
            </div>
        </div>

        <div class="features-section">
            <h2>üîß –°–µ—Ä–≤–∏—Å—ã</h2>
            <div id="services-features" class="features-list">
                <!-- Features will be loaded dynamically -->
            </div>
        </div>

        <div class="features-section">
            <h2>‚ûï –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª</h2>
            <div id="additional-features" class="features-list">
                <!-- Features will be loaded dynamically -->
            </div>
        </div>

        <div class="status-section">
            <div id="status-message" class="status-message"></div>
        </div>
    </div>

    <script>
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π —Å–∫—Ä–∏–ø—Ç–∞
        (function() {
            const authToken = localStorage.getItem('university_auth_token');
            
            // –ï—Å–ª–∏ –Ω–µ—Ç —Ç–æ–∫–µ–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ login
            if (!authToken) {
                console.log('–¢–æ–∫–µ–Ω –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ login.html');
                window.location.href = 'login.html';
                return;
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–∞–∫–∂–µ –Ω–∞–ª–∏—á–∏–µ university_id
            const urlParams = new URLSearchParams(window.location.search);
            const universityIdFromUrl = urlParams.get('university_id');
            const universityIdFromStorage = localStorage.getItem('selected_university_id');
            
            // –ï—Å–ª–∏ –Ω–µ—Ç university_id –Ω–∏ –≤ URL, –Ω–∏ –≤ localStorage, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ login
            if (!universityIdFromUrl && !universityIdFromStorage) {
                console.log('University ID –Ω–µ –Ω–∞–π–¥–µ–Ω, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ login.html');
                window.location.href = 'login.html';
                return;
            }
        })();
    </script>
    <script src="script.js"></script>
</body>
</html>

